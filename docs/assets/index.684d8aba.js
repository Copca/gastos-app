var E=Object.defineProperty,M=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var F=(a,o,t)=>o in a?E(a,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[o]=t,I=(a,o)=>{for(var t in o||(o={}))k.call(o,t)&&F(a,t,o[t]);if(A)for(var t of A(o))P.call(o,t)&&F(a,t,o[t]);return a},j=(a,o)=>M(a,O(o));import{r as l,j as n,a as e,C as T,b as w,S as _,c as $,L as R,d as D,T as B,F as X,R as z,e as J}from"./vendor.9c90f6b4.js";const q=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};q();var H="/gastos-app/assets/nuevo-gasto.3ab385ce.svg";const C=(a=0)=>a.toLocaleString("es-MX",{style:"currency",currency:"MXN"}),K=()=>{const a=Math.random().toString(36).substring(2),o=Date.now().toString(36);return a+o},V=a=>{const o=new Date(a),t={year:"numeric",month:"long",day:"2-digit"};return o.toLocaleDateString("es-MX",t)},Q=({presupuesto:a,setPresupuesto:o,gastos:t,setGastos:c,setIsValidPresupuesto:s})=>{const[r,i]=l.exports.useState(0),[m,d]=l.exports.useState(0),[u,g]=l.exports.useState(0);l.exports.useEffect(()=>{const p=t.reduce((x,h)=>Number(h.cantidad)+x,0),S=a-p,b=((a-S)/a*100).toFixed(2);i(S),d(p),setTimeout(()=>{g(b)},1e3)},[t]);const f=()=>{confirm("\xBFDeseas reiniciar presupuesto y gastos?")&&(o(0),c([]),s(!1))};return n("div",{className:"contenedor-presupuesto contenedor sombra dos-columnas",children:[e("div",{children:e(T,{value:u,text:`${u}% Gastado `,styles:w({pathColor:u>100?"#dc2626":"#3b82f6",trailColor:"#f5f5f5",textColor:u>100?"#dc2626":"#3b82f6"})})}),n("div",{className:"contenido-presupuesto",children:[e("button",{type:"button",className:"reset-app",onClick:f,children:"Resetear App"}),n("p",{children:[e("span",{children:"Presupuesto: "})," ",C(a)]}),n("p",{className:`${r<=0?"negativo":""}`,children:[e("span",{children:"Disponible: "})," ",C(r)]}),n("p",{children:[e("span",{children:"Gastado: "})," ",C(m)]})]})]})},L=({children:a,tipo:o})=>e("div",{className:`alerta ${o}`,children:a}),U=({presupuesto:a,setPresupuesto:o,setIsValidPresupuesto:t})=>{const[c,s]=l.exports.useState("");return e("div",{className:"contenedor-presupuesto contenedor sombra",children:n("form",{onSubmit:i=>{if(i.preventDefault(),!a||a<=0){s("No es presupuesto v\xE1lido");return}s(""),t(!0)},className:"formulario",children:[n("div",{className:"campo",children:[e("label",{children:"Definir Presupuesto"}),e("input",{type:"number",className:"nuevo-presupuesto",placeholder:"A\xF1ade tu presupuesto",value:a,onChange:i=>o(Number(i.target.value))})]}),e("input",{type:"submit",value:"A\xF1adir"}),c&&e(L,{tipo:"error",children:c})]})})},W=({presupuesto:a,setPresupuesto:o,isValidPresupuesto:t,setIsValidPresupuesto:c,gastos:s,setGastos:r})=>n("header",{children:[e("h1",{children:"Panificador de Gastos"}),t?e(Q,{presupuesto:a,setPresupuesto:o,gastos:s,setGastos:r,setIsValidPresupuesto:c}):e(U,{presupuesto:a,setPresupuesto:o,setIsValidPresupuesto:c})]});var Y="/gastos-app/assets/cerrar.ab3aac92.svg";const Z=({setModal:a,animarModal:o,setAnimarModal:t,guardarGasto:c,gastoEditar:s,setGastoEditar:r})=>{const[i,m]=l.exports.useState({id:"",nombre:"",cantidad:"",categoria:"",fecha:""}),[d,u]=l.exports.useState(""),{nombre:g,cantidad:f,categoria:p}=i;l.exports.useEffect(()=>{Object.keys(s).length>0&&m(s)},[]);const S=()=>{r({}),t(!1),setTimeout(()=>{a(!1)},500)},b=h=>{m(j(I({},i),{[h.target.name]:h.target.value}))};return n("div",{className:"modal",children:[e("div",{className:"cerrar-modal",children:e("img",{src:Y,alt:"cerrar modal",onClick:S})}),n("form",{onSubmit:h=>{if(h.preventDefault(),[g.trim(),f,p].includes("")||f<=0){u("Todos los campos son obligatorios"),setTimeout(()=>{u("")},2e3);return}u(""),Object.keys(s).length>0?c(i,!0):(i.id=K(),i.fecha=Date.now(),c(i)),m({id:"",nombre:"",cantidad:"",categoria:"",fecha:""}),t(!1),setTimeout(()=>{a(!1)},500)},className:`formulario ${o?"animar":"cerrar"}`,children:[e("legend",{children:s.nombre?"Editar gasto":"Nuevo Gasto"}),d&&e(L,{tipo:"error",children:d}),n("div",{className:"campo",children:[e("label",{htmlFor:"nombre",children:"Nombre Gasto"}),e("input",{type:"text",id:"nombre",name:"nombre",placeholder:"A\xF1ade el nombre del gasto",value:g,onChange:b})]}),n("div",{className:"campo",children:[e("label",{htmlFor:"cantidad",children:"Cantidad"}),e("input",{type:"number",id:"cantidad",name:"cantidad",placeholder:"A\xF1ade la cantidad del gasto",value:f,onChange:b})]}),n("div",{className:"campo",children:[e("label",{htmlFor:"categoria",children:"Categor\xEDa"}),n("select",{id:"categoria",name:"categoria",value:p,onChange:b,children:[e("option",{value:"",children:"-- Selecione --"}),e("option",{value:"ahorro",children:"Ahorro"}),e("option",{value:"comida",children:"Comida"}),e("option",{value:"casa",children:"Casa"}),e("option",{value:"gastos",children:"Gastos"}),e("option",{value:"ocio",children:"Ocio"}),e("option",{value:"salud",children:"Salud"}),e("option",{value:"suscripciones",children:"Suscripciones"})]})]}),e("input",{type:"submit",value:s.nombre?"Guardar Cambios":"A\xF1adir Gasto"})]})]})};var ee="/gastos-app/assets/icono_ahorro.ff2959d3.svg",ae="/gastos-app/assets/icono_casa.1170ce11.svg",oe="/gastos-app/assets/icono_comida.db0a9016.svg",se="/gastos-app/assets/icono_gastos.e6dea3b0.svg",te="/gastos-app/assets/icono_ocio.ad5d0e9e.svg",re="/gastos-app/assets/icono_salud.41ba3136.svg",ne="/gastos-app/assets/icono_suscripciones.97f04dc8.svg";const ie={ahorro:ee,comida:oe,casa:ae,gastos:se,ocio:te,salud:re,suscripciones:ne},ce=({gasto:a,setGastoEditar:o,eliminarGasto:t})=>{const{categoria:c,nombre:s,cantidad:r,fecha:i,id:m}=a,d=()=>e(R,{children:e(D,{onClick:()=>o(a),children:"Editar"})}),u=()=>e(B,{children:e(D,{destructive:!0,onClick:()=>t(m),children:"Eliminar"})});return e(_,{children:e($,{leadingActions:d(),trailingActions:u(),children:e("div",{className:"gasto sombra",children:n("div",{className:"contenido-gasto",children:[e("img",{src:ie[c],alt:"icono gasto"}),n("div",{className:"descripcion-gasto",children:[e("p",{className:"categoria",children:c}),e("p",{className:"nombre-gasto",children:s}),n("p",{className:"fecha-gasto",children:["Agreado el: ",e("span",{children:V(i)})]})]}),n("p",{className:"cantidad-gasto",children:["$",r]})]})})})})},le=({gastos:a,setGastoEditar:o,eliminarGasto:t,filtro:c,gastosFiltrados:s})=>{const r=c?s:a;return n("div",{className:"listado-gastos contenedor",children:[e("h2",{children:r.length?"Gastos":"No hay gastos a\xFAn"}),r.map(i=>e(ce,{gasto:i,setGastoEditar:o,eliminarGasto:t},i.id))]})},de=({filtro:a,setFiltro:o})=>e("div",{className:"filtros sombra contenedor",children:e("form",{children:n("div",{className:"campo",children:[e("label",{children:"Filtrar Gastos"}),n("select",{value:a,onChange:t=>o(t.target.value),children:[e("option",{value:"",children:"-- Todas las categor\xEDas --"}),e("option",{value:"ahorro",children:"Ahorro"}),e("option",{value:"comida",children:"Comida"}),e("option",{value:"casa",children:"Casa"}),e("option",{value:"gastos",children:"Gastos"}),e("option",{value:"ocio",children:"Ocio"}),e("option",{value:"salud",children:"Salud"}),e("option",{value:"suscripciones",children:"Suscripciones"})]})]})})}),ue=()=>{const[a,o]=l.exports.useState(Number(localStorage.getItem("presupuesto"))),[t,c]=l.exports.useState(!1),[s,r]=l.exports.useState(!1),[i,m]=l.exports.useState(!1),[d,u]=l.exports.useState(JSON.parse(localStorage.getItem("gastos"))||[]),[g,f]=l.exports.useState({}),[p,S]=l.exports.useState(""),[b,x]=l.exports.useState([]);l.exports.useEffect(()=>{Object.keys(g).length>0&&h()},[g]),l.exports.useEffect(()=>{localStorage.setItem("presupuesto",a||0)},[a]),l.exports.useEffect(()=>{localStorage.setItem("gastos",JSON.stringify(d)||[])},[d]),l.exports.useEffect(()=>{if(p){const v=d.filter(N=>N.categoria===p);x(v)}},[p]),l.exports.useEffect(()=>{(Number(localStorage.getItem("presupuesto"))||0)>0&&c(!0)},[]);const h=()=>{r(!0),setTimeout(()=>{m(!0)},500)};return n("div",{className:s?"fijar":"",children:[e(W,{presupuesto:a,setPresupuesto:o,isValidPresupuesto:t,setIsValidPresupuesto:c,gastos:d,setGastos:u}),t&&n(X,{children:[n("main",{children:[e(de,{filtro:p,setFiltro:S}),e(le,{gastos:d,filtro:p,setGastoEditar:f,eliminarGasto:v=>{const N=d.filter(y=>y.id!==v);u(N)},gastosFiltrados:b})]}),e("div",{className:"nuevo-gasto",children:e("img",{src:H,alt:"icono nuevo gasto",onClick:h})})]}),s&&e(Z,{setModal:r,animarModal:i,setAnimarModal:m,guardarGasto:(v,N=!1)=>{if(N){const y=d.map(G=>G.id===v.id?v:G);u(y)}else u([...d,v])},gastoEditar:g,setGastoEditar:f})]})};z.render(e(J.StrictMode,{children:e(ue,{})}),document.getElementById("root"));
